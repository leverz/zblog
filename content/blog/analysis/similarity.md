---
title: ç›¸ä¼¼åº¦åˆ†æ
date: '2017-11-23T16:48:00.000Z'
---

æœ€è¿‘äº†è§£äº†å‡ ä¸ªç›¸ä¼¼åº¦åˆ†æç›¸å…³çš„ç®—æ³•ï¼Œæ•´ç†ä¸€ä¸‹ã€‚

## æ›¼å“ˆé¡¿è·ç¦»(Manhattan Distance)

æ›¼å“ˆé¡¿è·ç¦»åˆå«åŸå¸‚è¡—åŒºè·ç¦»ï¼Œå½¢è±¡çš„ç†è§£ä¸€ä¸‹å°±æ˜¯ä½ è¦ä»åŸå¸‚çš„ä¸€ä¸ªåœ°æ–¹åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼Œæ€ä¹ˆè®¡ç®—ä½ è¡Œé©¶çš„è·ç¦»ã€‚å¦‚ä¸‹å›¾ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯æ— æ•°çš„é«˜æ¥¼å¤§å¦ã€‚ã€‚ã€‚

![image](https://user-images.githubusercontent.com/10726701/33137191-3bf05858-cfe2-11e7-917f-751ef829a884.png)

é‚£ä¹ˆæ€ä¹ˆè®¡ç®—è¿™ä¸¤ä¸ªç‚¹çš„è·ç¦»å‘¢ï¼Ÿ

æ”¾åœ¨åæ ‡ç³»é‡Œï¼Œæˆ‘ä»¬å¾ˆå¿«å°±èƒ½ç®—å‡ºè¿™ä¸¤ä¸ªç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ï¼š(ä»¥ä¸‹ä»£ç å‡ä¸º Haskell é£æ ¼çš„ä¼ªä»£ç )

```Haskell
-- å‡è®¾ï¼šA (x1, y1), B (x2, y2)
d = abs(x1 - x2) + abs(y1 - y2)
```
è¿™æ˜¯äºŒç»´å¹³é¢ä¸Šä¸¤ä¸ªç‚¹çš„è®¡ç®—æ–¹å¼ï¼Œæˆ‘ä»¬å†æ‰©å±•ä¸€ä¸‹åˆ° N ç»´ä¸–ç•Œï¼š

```Haskell
-- å‡è®¾ï¼šA (x1, x2, ..., xn), B (y1, y2, ..., yn), A/B çš„åæ ‡é›†ç”¨åˆ—è¡¨è¡¨ç¤º
d = sum $ zipWith (\x y -> abs(x - y)) A B
```

## æ¬§å¼è·ç¦»(Euclidean Distance)

è¿™ä¸ªè·ç¦»å¦‚æœæ”¾åœ¨äºŒç»´ä¸–ç•Œæ¥çœ‹çš„è¯ï¼Œè¯´çš„å°±æ˜¯ä¸¤ç‚¹ä¹‹é—´çš„ç›´çº¿è·ç¦»ï¼š

![image](https://user-images.githubusercontent.com/10726701/33137207-4ae06c9a-cfe2-11e7-8d92-98d93d2a0d04.png)

è‡³äºè¿™ä¸ªè·ç¦»çš„è®¡ç®—ï¼Œéƒ½å·²ç»ç®—æ˜¯å¸¸è¯†äº†ï¼š

```Haskell
-- A (x1, y1), B (x2, y2)
d = sqrt ((x1 - x2)^2 + (y1 - y2)^2)
```

è„±ç¦»äºŒç»´åˆ° N ç»´ï¼š

```Haskell
-- A (x1, x2, ..., xn), B (y1, y2, ..., yn), A/B çš„åæ ‡é›†ç”¨åˆ—è¡¨è¡¨ç¤º
d = sqrt $ sum $ zipWith (\x y -> (x - y)^2) A B
```

## ä½™å¼¦ç›¸ä¼¼åº¦(Cosine Similarity)

ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œæ˜¯æŒ‡é€šè¿‡å¤¹è§’çš„ä½™å¼¦å¤§å°æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ®é›†çš„å·®å¼‚ç¨‹åº¦

![image](https://user-images.githubusercontent.com/10726701/33137224-55a9d454-cfe2-11e7-912f-32c9862f7afc.png)

A (41, 43), B (82, 86) -> å‘é‡ l (x1, y1)
C (43, 41), D (86, 82) -> å‘é‡ m (x2, y2)

```Haskell
-- l å’Œ m çš„å¤¹è§’ä½™å¼¦è®¡ç®—
cosLM = (x1 * x2 + y1 * y2) / (sqrt (x1^2 + y1^2) * sqrt (x2^2 + y2^2))
```

å‡çº§åˆ° N ç»´ç©ºé—´åï¼š

```Haskell
-- l (x1, x2, ..., xn), m (y1, y2, ..., yn), l/m ç”¨åˆ—è¡¨è¡¨ç¤º
cosLM = (sum $ zipWith (*) l m) /
          ((sqrt $ sum $ zipWith (*) l l) *
            (sqrt $ sum $ zipWith (*) m m))
```

ä½™å¼¦å€¼çš„å–å€¼èŒƒå›´æ˜¯ [-1, 1]ï¼Œè¯¥å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡çš„å¤¹è§’è¶Šå°ï¼Œæ•°æ®è¶Šç›¸ä¼¼ã€‚ä¸¤ä¸ªå‘é‡æ–¹å‘é‡åˆæ—¶ï¼Œå€¼ä¸º1ï¼Œç›¸åæ—¶å€¼ä¸º -1ã€‚

å¾ˆå¤šäººç”¨ä½™å¼¦ç›¸ä¼¼åº¦æ¥æ¯”è¾ƒæ–‡æœ¬æ˜¯å¦ç›¸ä¼¼ï¼Œæ¯”å¦‚ï¼š
http://www.ruanyifeng.com/blog/2013/03/cosine_similarity.html

## çš®å°”é€Šç§¯çŸ©ç›¸å…³ç³»æ•°(Pearson correlation coefficient)

https://segmentfault.com/q/1010000000094674
https://www.zhihu.com/question/19734616

çœ‹å®Œä¸Šé¢ä¸¤ä¸ªé“¾æ¥é‡Œé¢çš„å›ç­”ï¼Œæˆ‘å†è¯´è¯´æˆ‘çš„ç†è§£ã€‚
çš®å°”é€Šç›¸å…³ç³»æ•°ï¼Œæ˜¯è¦åœ¨åšä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—ä¹‹å‰ï¼Œå…ˆæŠŠæ•°æ®è¿›è¡Œä¸€æ¬¡â€œä¸­å¿ƒåŒ–â€

![image](https://user-images.githubusercontent.com/10726701/33137077-e3675c86-cfe1-11e7-91b7-bfc79da794ae.png)

ä¸ä¸Šé¢çš„ä½™å¼¦ç›¸ä¼¼åº¦çš„è®¡ç®—å¯¹æ¯”ä¸€ä¸‹ï¼Œå‘ç°åˆ†å­åˆ†æ¯éƒ½å¤šå‰ªäº†ä¸€ä¸ªå¹³å‡å€¼ã€‚
ä¸ºä»€ä¹ˆè¦å‡è¿™ä¸ªå¹³å‡å€¼å‘¢ï¼Ÿ
å½“æˆ‘ä»¬åœ¨å¤§é‡æ•°æ®ä¸­æŒ–æ˜ä¿¡æ¯æ—¶ï¼Œå¾ˆå¤šæ•°æ®å¯èƒ½åœ¨ä¸åŒç»´åº¦ä¸Šä¼šæœ‰ä¸åŒæƒ…å†µçš„ç¼ºå¤±ï¼Œé‚£æˆ‘ä»¬åœ¨è®¡ç®—ç›¸ä¼¼åº¦æ—¶æ€ä¹ˆå¤„ç†è¿™äº›ç¼ºå¤±å‘¢ï¼Ÿçš®å°”é€Šç›¸å…³ç³»æ•°çš„æ–¹å¼æ˜¯ï¼ŒæŠŠè¿™äº›ç¼ºå¤±éƒ½å½“åš 0 ï¼Œç„¶åè®©æ‰€æœ‰å…¶ä»–ç»´åº¦å‡å»è¯¥å‘é‡ä¸ªç»´åº¦çš„å¹³å‡å€¼

```Haskell
pearson xs ys = (n * sumXY - sumX * sumY) /
                sqrt ( (n * sumX2 - sumX * sumX) *
                       (n * sumY2 - sumY * sumY) )
                where n = fromIntegral (length xs)
                      sumX = sum xs
                      sumY = sum ys
                      sumX2 = sum $ zipWith (*) xs xs
                      sumY2 = sum $ zipWith (*) ys ys
                      sumXY = sum $ zipWith (*) xs ys
```

ç›¸ä¼¼åº¦ç®—æ³•å¤ªå¤šäº†ï¼Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹è¿™å‡ ä¸ªã€‚ç°åœ¨æœ‰äº†è¿™å‡ ä¸ªé”¤å­ï¼Œæˆ‘è¦å»é¡¹ç›®é‡Œæ‰¾æ‰¾æœ‰æ²¡æœ‰åˆé€‚çš„é’‰å­äº† ğŸ¤£ ğŸ¤£ ğŸ¤£
